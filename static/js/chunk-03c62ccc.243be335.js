(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03c62ccc"],{"0525":function(t,s,a){t.exports=a.p+"static/img/sprite3.d7e0c9a1.gif"},"1cba":function(t,s,a){t.exports=a.p+"static/img/monster1.5dfc4776.gif"},"1e02":function(t,s,a){t.exports=a.p+"static/img/sprite1.56c3737b.gif"},"212e":function(t,s,a){t.exports=a.p+"static/img/monster6.0382db09.gif"},"48c5":function(t,s,a){t.exports=a.p+"static/img/monster2.76235a9c.gif"},4951:function(t,s,a){t.exports=a.p+"static/img/monster3.15a387ab.gif"},"514e":function(t,s,a){t.exports=a.p+"static/img/monster5.4ddfbdfc.gif"},"64ca":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:["page-battle",{battle1:!0}]},[e("Header"),e("div",{staticClass:"icon-back",on:{click:function(s){return t.$router.back()}}}),e("div",{staticClass:"info-meng"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("battle.index.q6179c")))]),e("van-swipe",{staticClass:"my-swipe11",attrs:{loop:!1,autoplay:t.logTime,"show-indicators":!1,vertical:!0},on:{change:t.onChangeLog}},t._l(t.logs,(function(s,a){return e("van-swipe-item",{key:a},[1===s.type?e("div",{staticClass:"desc"},[t._v(t._s(t.$t("battle.index.tt79cy",{val:s.harm})))]):t._e(),2===s.type?e("div",{staticClass:"desc"},[t._v(t._s(t.$t("battle.index.omgxop",{val:s.harm})))]):t._e()])})),1)],1),e("div",{staticClass:"battle-box"},[t.showResultDialog?t._e():e("van-swipe",{staticClass:"my-swipe12",attrs:{loop:!1,autoplay:5e3,"show-indicators":!1}},[e("van-swipe-item",[1===+t.cardInfo.id?e("img",{attrs:{src:a("1e02"),alt:""}}):t._e(),2===+t.cardInfo.id?e("img",{attrs:{src:a("b54f"),alt:""}}):t._e(),3===+t.cardInfo.id?e("img",{attrs:{src:a("0525"),alt:""}}):t._e(),4===+t.cardInfo.id?e("img",{attrs:{src:a("be5d"),alt:""}}):t._e(),5===+t.cardInfo.id?e("img",{attrs:{src:a("6f25"),alt:""}}):t._e(),e("i",{staticClass:"icon-vs"}),1===+t.curMonster.id?e("img",{attrs:{src:a("1cba"),alt:""}}):t._e(),2===+t.curMonster.id?e("img",{attrs:{src:a("48c5"),alt:""}}):t._e(),3===+t.curMonster.id?e("img",{attrs:{src:a("4951"),alt:""}}):t._e(),4===+t.curMonster.id?e("img",{attrs:{src:a("7e24"),alt:""}}):t._e(),5===+t.curMonster.id?e("img",{attrs:{src:a("514e"),alt:""}}):t._e(),6===+t.curMonster.id?e("img",{attrs:{src:a("212e"),alt:""}}):t._e()])],1)],1),e("div",{staticClass:"battle-meng"},[e("div",{staticClass:"item"},[e("div",{staticClass:"val"},[t._v(t._s(t.cardInfo.name))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"val"},[t._v(t._s(t.curMonster.name))])])]),e("div",{staticClass:"progress-box"},[e("div",{staticClass:"progress-item pro-me"},[e("div",{staticClass:"pro-info"},[e("div",{staticClass:"name-info"},[e("div",{staticClass:"shu"},[e("i",{staticClass:"icon-book2"}),t._v(" "+t._s(t.$t("battle.index.njnp2g"))+"："+t._s(t.cardVal||0))])]),e("div",{staticClass:"a"})]),e("div",{staticClass:"pro-box"},[e("div",{staticClass:"b-item"},[e("i",{staticClass:"icon-neng"}),t._v(" "+t._s(t.$t("battle.index.m6hby4"))+"："+t._s(t.cardInfo.life_value||0)+" ")]),e("div",{staticClass:"b-item"},[e("i",{staticClass:"icon-dun"}),t._v(" "+t._s(t.$t("battle.index.zgea9n"))+"："+t._s(t.cardInfo.defence||0)+" ")]),e("div",{staticClass:"b-item"},[e("i",{staticClass:"icon-jian"}),t._v(" "+t._s(t.$t("battle.index.rl8qno"))+"："+t._s(t.cardInfo.attack_power||0)+" ")]),e("div",{staticClass:"b-item"},[e("i",{staticClass:"icon-xie"}),t._v(" "+t._s(t.$t("battle.index.z8u2jj"))+"："+t._s(t.cardInfo.critical_rate?t.cardInfo.critical_rate+"%":0)+" ")])])]),e("div",{staticClass:"progress-item pro-other"},[e("div",{staticClass:"pro-info"},[e("div",{staticClass:"name-info"},[e("div",{staticClass:"shu"},[e("i",{staticClass:"icon-book2"}),t._v(" "+t._s(t.$t("battle.index.njnp2g"))+"："+t._s(t.monsterVal||0))])]),e("div",{staticClass:"a"})]),e("div",{staticClass:"pro-box"},[e("div",{staticClass:"b-item"},[e("i",{staticClass:"icon-neng"}),t._v(" "+t._s(t.$t("battle.index.m6hby4"))+"："+t._s(t.curMonster.life_value||0)+" ")]),e("div",{staticClass:"b-item"},[e("i",{staticClass:"icon-dun"}),t._v(" "+t._s(t.$t("battle.index.zgea9n"))+"："+t._s(t.curMonster.defence||0)+" ")]),e("div",{staticClass:"b-item"},[e("i",{staticClass:"icon-jian"}),t._v(" "+t._s(t.$t("battle.index.rl8qno"))+"："+t._s(t.curMonster.attack_power||0)+" ")]),e("div",{staticClass:"b-item"},[e("i",{staticClass:"icon-xie"}),t._v(" "+t._s(t.$t("battle.index.z8u2jj"))+"："+t._s(t.curMonster.critical_rate?t.curMonster.critical_rate+"%":0)+" ")])])])]),e("van-dialog",{class:["dialog-battle",{"dialog-success":2===+t.battleObj.battle_result},{"dialog-fail":3===+t.battleObj.battle_result}],attrs:{closeOnClickOverlay:!0,showConfirmButton:!1},model:{value:t.showResultDialog,callback:function(s){t.showResultDialog=s},expression:"showResultDialog"}},[e("div",{staticClass:"battle-dialog-box"},[2===+t.battleObj.battle_result?e("div",{staticClass:"item"},[e("i",{staticClass:"icon-money"}),t._v(" "+t._s(t.battleObj.profited)+" GROK ")]):t._e()]),e("div",{staticClass:"button",on:{click:function(s){return t.$router.back()}}},[t._v(t._s(t.$t("battle.index.t48cyx")))])])],1)},i=[],c=a("1da1"),n=a("5530"),r=(a("96cf"),a("0418")),o=a("4ec3"),l=a("2f62"),d={components:{Header:r["a"]},data:function(){return{logTime:3e3,stepTime:1e4,showResultDialog:!1,cardInfo:{},monsters:[],curMonster:{},logs:[],timer:null,result:{},monsterVal:"",cardVal:"",battleObj:{}}},computed:Object(n["a"])({},Object(l["b"])(["userInfo"])),beforeDestroy:function(){clearTimeout(this.timer)},watch:{userInfo:function(){this.getData()}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){var a,e,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!t.userInfo.code){s.next=19;break}return s.next=3,Object(o["e"])({id:t.$route.query.id});case 3:if(a=s.sent,a.data){s.next=8;break}return t.$toast("战斗结束，请前往对战记录查看具体对战结果"),setTimeout((function(){t.$router.back()}),1500),s.abrupt("return");case 8:if(!a){s.next=19;break}return e=a.data,t.battleObj=a.data,t.cardInfo=e.nft||{},t.cardVal=e.nft.life_value,t.curMonster=e.monster||{},t.monsterVal=e.monster.life_value,s.next=17,Object(o["b"])({battle_id:a.data.id});case 17:i=s.sent,i&&(t.logs=i.data,t.stepTime=t.logs.length*t.logTime);case 19:case"end":return s.stop()}}),s)})))()},onChangeLog:function(t){var s=this.logs[t];1===s.type?(this.monsterVal=s.reset_life,s.reset_life<=0&&(this.showResultDialog=!0)):2===s.type&&(this.cardVal=s.reset_life,s.reset_life<=0&&(this.showResultDialog=!0))}}},u=d,f=(a("f1b9"),a("2877")),b=Object(f["a"])(u,e,i,!1,null,null,null);s["default"]=b.exports},"6f25":function(t,s,a){t.exports=a.p+"static/img/sprite5.0d6febb4.gif"},"7e24":function(t,s,a){t.exports=a.p+"static/img/monster4.5cacb69c.gif"},b54f:function(t,s,a){t.exports=a.p+"static/img/sprite2.78312a29.gif"},be5d:function(t,s,a){t.exports=a.p+"static/img/sprite4.74d57961.gif"},e109:function(t,s,a){},f1b9:function(t,s,a){"use strict";a("e109")}}]);