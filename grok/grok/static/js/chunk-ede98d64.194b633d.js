(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ede98d64"],{"36e7":function(t,e,a){},"844f":function(t,e,a){"use strict";a("88d5")},"88d5":function(t,e,a){},"9d35":function(t,e,a){},a8a6:function(t,e,a){"use strict";a("36e7")},c7ac:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-bag"},[a("Header"),a("div",{staticClass:"magic-tabs big-tab"},t._l(t.tabs,(function(e){return a("div",{key:e.value,class:["tab-item",{"tab-active":t.activeTab.value===e.value}],on:{click:function(a){return t.onChangeTab(e)}}},[t._v(" "+t._s(e.label)+" ")])})),0),a("div",{staticClass:"tab-tree-content"},[2===t.activeTab.value?a("div",{staticClass:"filter-header filter-search"},[a("div",{staticClass:"left"}),a("div",{staticClass:"right"},[a("div",{staticClass:"buy-btn",on:{click:function(e){return t.$router.push("/transfer-log")}}},[t._v("转赠记录")]),a("div",{staticClass:"buy-btn",on:{click:function(e){return t.$router.push("/open-log")}}},[t._v("开启记录")])])]):t._e(),1===t.activeTab.value?a("TabTreeNFT"):t._e(),2===t.activeTab.value?a("TabTreeBlindBox",{on:{setTab:t.onChangeTab}}):t._e()],1)],1)},n=[],s=a("5530"),l=a("0418"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"con-tree-box"},[a("div",{staticClass:"box-box"},[t.isOpen?a("div",{staticClass:"gift1"}):a("div",{staticClass:"gift"}),a("div",{staticClass:"total"},[t._v(t._s(t.$t("bag.TabTreeBlindBox.8xo43q"))+": "+t._s(t.boxNum))])]),a("p"),a("div",{staticClass:"btns"},[a("van-button",{attrs:{type:"primary",disabled:!t.boxNum},on:{click:function(e){return t.onShowNumDialog(1)}}},[t._v(t._s(t.$t("BlindBox.9oraat")))]),a("van-button",{attrs:{type:"warn",disabled:!t.boxNum},on:{click:function(e){return t.onShowNumDialog(2)}}},[t._v(" "+t._s(t.$t("bag.TabTreeBlindBox.lzhbd2"))+" ")])],1),a("van-dialog",{staticClass:"shop-dialog",attrs:{showConfirmButton:!1},model:{value:t.showNumDailog,callback:function(e){t.showNumDailog=e},expression:"showNumDailog"}},[a("div",{staticClass:"header"},[t._v(" "+t._s(1===t.type?t.$t("BlindBox.7912xm"):t.$t("BlindBox.7lcmrn"))+" "),a("span",{staticClass:"icon-close",on:{click:function(e){t.showNumDailog=!1}}})]),a("div",{staticClass:"shop-dialog-content",staticStyle:{height:"16vh"}},[a("van-field",{attrs:{placeholder:t.$t("blindBox.67l3fk")},scopedSlots:t._u([{key:"button",fn:function(){return[a("div",{staticClass:"max",on:{click:function(e){t.buyAmount=t.boxNum}}},[t._v("MAX")])]},proxy:!0}]),model:{value:t.buyAmount,callback:function(e){t.buyAmount=e},expression:"buyAmount"}}),2==t.type?a("van-field",{attrs:{placeholder:t.$t("BlindBox.3u52tg")},model:{value:t.ads,callback:function(e){t.ads=e},expression:"ads"}}):t._e()],1),a("div",{staticClass:"btn"},[a("van-button",{attrs:{type:"primary"},on:{click:t.onConfirm}},[t._v(t._s(t.$t("BlindBox.aqmh0k")))])],1)]),a("van-dialog",{staticClass:"mining-dialog dialog-guang",attrs:{closeOnClickOverlay:!0,showConfirmButton:!1},model:{value:t.showResultDialog,callback:function(e){t.showResultDialog=e},expression:"showResultDialog"}},[a("div",{staticClass:"mining-dialog-inner"},[a("div",{staticClass:"guang-header"},[a("div",{staticClass:"b"},[t._v(" "+t._s(t.$t("BlindBox.geq84z"))+" ")])]),a("div",{staticClass:"body guang-body",staticStyle:{"text-align":"center"}},[a("swiper",{ref:"mySwiper",staticClass:"swiper",attrs:{options:t.swiperOption},on:{slideChange:t.slideChange}},t._l(t.result,(function(e){return a("swiper-slide",{key:e.id},[a("img",{attrs:{src:e.card.image,alt:""}}),a("div",{staticClass:"info"},[a("div",{staticClass:"descriptions"},[a("div",[t._v(t._s(t.$t("blindBox.m7u5pj"))+" "+t._s("LV"+e.grade)+" "+t._s(e.card.name))]),a("div",[t._v("Token Id："+t._s(e.token_id))]),a("div",[t._v(t._s(t.$t("blindBox.7uhxfd"))+" "+t._s(e.power))])])])])})),1),a("div",{staticClass:"btn"},[a("van-button",{attrs:{type:"primary"},on:{click:function(e){t.showResultDialog=!1}}},[t._v(t._s(t.$t("blindBox.1gro5j")))])],1)],1)])])],1)},r=[],c=a("1da1"),u=(a("96cf"),a("4ec3")),d=a("2f62"),v=(a("df5d"),a("7212")),f=(a("a7a3"),{components:{SwiperSlide:v["SwiperSlide"],Swiper:v["Swiper"]},data:function(){return{boxNum:0,isOpen:!1,showRecords:!1,showOpenDailog:!1,showNumDailog:!1,showResultDialog:!1,type:1,buyAmount:1,ads:"",swiperOption:{slidesPerView:1.5,spaceBetween:20,centeredSlides:!0},result:[]}},props:{},computed:Object(s["a"])({},Object(d["b"])(["userInfo"])),watch:{"$i18n.locale":function(){},userInfo:function(){this.getUserBox()}},mounted:function(){this.getUserBox()},methods:{slideChange:function(){var t=this.$refs.mySwiper.$swiper.activeIndex;this.currentCard=this.result[t]},onShowNumDialog:function(t){this.type=t,this.showNumDailog=!0},onConfirm:function(){1===this.type?this.onOpen():this.onGive()},onOpen:function(){var t=this;this.showNumDailog=!1,this.isOpen=!0,setTimeout((function(){Object(u["v"])({num:t.buyAmount}).then((function(e){200==e.code?(t.$toast("盲盒开启成功"),t.$emit("onSetTab",{label:"NFT",value:1}),t.getUserBox()):t.$toast(e.msg),t.isOpen=!1}))}),6e3)},onGive:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.ads){e.next=3;break}return t.$toast(t.$t("BlindBox.j1juon")),e.abrupt("return");case 3:Object(u["B"])({num:t.buyAmount,address:t.ads}).then((function(e){200==e.code?(t.$toast(t.$t("BlindBox.84z1pc")),t.showNumDailog=!1,t.getUserBox()):t.$toast(e.msg)}));case 4:case"end":return e.stop()}}),e)})))()},getUserBox:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.userInfo.code){e.next=5;break}return e.next=3,Object(u["D"])();case 3:a=e.sent,t.boxNum=a.data;case 5:case"end":return e.stop()}}),e)})))()}}}),h=f,b=(a("844f"),a("2877")),p=Object(b["a"])(h,o,r,!1,null,null,null),g=p.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"con-nft-box"},[a("div",{staticClass:"filter-header filter-search"},[a("van-popover",{attrs:{trigger:"click",placement:"bottom-end","get-container":"#list"},scopedSlots:t._u([{key:"reference",fn:function(){return[a("div",{staticClass:"filter",class:{unfold:t.showLevelPopover}},[a("span",[t._v(t._s(t.currentFilterLevel.label))]),a("i",{staticClass:"icon-caret"})])]},proxy:!0}]),model:{value:t.showLevelPopover,callback:function(e){t.showLevelPopover=e},expression:"showLevelPopover"}},[a("ul",{staticClass:"filter-list"},t._l(t.filterLevelOptions,(function(e){return a("li",{key:e.value,class:{active:t.currentFilterLevel.value===e},on:{click:function(a){return t.onSelectLevel(e)}}},[t._v(" "+t._s(e.label)+" ")])})),0)]),a("van-popover",{attrs:{trigger:"click",placement:"bottom-end","get-container":"#list"},scopedSlots:t._u([{key:"reference",fn:function(){return[a("div",{staticClass:"filter",class:{unfold:t.showFilterPopover}},[a("span",[t._v(t._s(t.currentFilterStatus.label))]),a("i",{staticClass:"icon-caret"})])]},proxy:!0}]),model:{value:t.showFilterPopover,callback:function(e){t.showFilterPopover=e},expression:"showFilterPopover"}},[a("ul",{staticClass:"filter-list"},t._l(t.filterStatusOptions,(function(e){return a("li",{key:e.value,class:{active:t.currentFilterStatus.value===e},on:{click:function(a){return t.onSelectStatus(e)}}},[t._v(" "+t._s(e.label)+" ")])})),0)]),a("div",{staticClass:"right"},[a("div",{staticClass:"buy-btn",on:{click:function(e){return t.$router.push("/blind-box")}}},[t._v(t._s(t.$t("market.marketDetails.8tbl37")))])])],1),t.cardList.length>0?a("van-grid",{staticClass:"con-card-list",attrs:{"column-num":2,gutter:10}},t._l(t.cardList,(function(e){return a("van-grid-item",{key:e.id,staticClass:"card-item",on:{click:function(a){return t.onClickCard(e)}}},[a("div",{staticClass:"status"},[t._v(" "+t._s(t.rendStatus(e.status))+" "),3===e.status?a("span",[2===e.battle_result?a("span",[t._v(" - 胜")]):t._e(),3===e.battle_result?a("span",{staticClass:"red"},[t._v(" - 败")]):t._e()]):t._e()]),a("img",{attrs:{src:e.nft&&e.nft.icon_path,alt:""}}),a("div",{staticClass:"meng-info"},[a("van-cell",{attrs:{title:"等级",value:e.nft_id+"级"}}),a("van-cell",{attrs:{title:"战力",value:e.nft&&e.nft.attack_power}}),a("van-cell",{attrs:{title:"生命值",value:e.nft&&e.nft.life_value}}),a("van-cell",{attrs:{title:"防御",value:e.nft&&e.nft.defence}}),a("van-cell",{attrs:{title:"暴击率",value:e.nft&&e.nft.critical_rate+"%"}}),2===e.battle_result?a("van-cell",{attrs:{title:"收益数量",value:e.profit}}):t._e(),3===e.battle_result?a("van-cell",{attrs:{title:"冻结数量",value:e.price}}):t._e()],1)])})),1):a("van-empty")],1)},_=[],w=a("ca00"),C={data:function(){return{cardList:[],showFilterPopover:!1,showLevelPopover:!1,filterStatusOptions:[],filterLevelOptions:[],currentFilterStatus:{},currentFilterLevel:{}}},computed:Object(s["a"])({},Object(d["b"])(["userInfo"])),watch:{"$i18n.locale":function(){},userInfo:function(){this.getData()}},mounted:function(){this.initData(),this.getData()},methods:{initData:function(){this.filterStatusOptions=[{label:this.$t("island.bag.nvw5oh"),value:""},{label:this.$t("island.bag.p4nvag"),value:1},{label:this.$t("cardList.kr38gh"),value:2},{label:this.$t("cardList.hzfeh7"),value:3}],this.filterLevelOptions=[{label:this.$t("island.bag.nvw5oh"),value:""},{label:"LV1",value:1},{label:"LV2",value:2},{label:"LV3",value:3},{label:"LV4",value:4},{label:"LV5",value:5}],this.currentFilterStatus=this.filterStatusOptions[0],this.currentFilterLevel=this.filterLevelOptions[0]},getData:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.userInfo.code){e.next=8;break}return a=t.$toast.loading(),i={page:1,size:1e3,nft_id:t.currentFilterLevel.value,status:t.currentFilterStatus.value},e.next=5,Object(u["F"])(i);case 5:n=e.sent,t.cardList=n.data||[],a.clear();case 8:case"end":return e.stop()}}),e)})))()},onSelectStatus:function(t){this.currentFilterStatus=t,this.showLevelPopover=!1,this.getData()},onSelectLevel:function(t){this.currentFilterLevel=t,this.showFilterPopover=!1,this.getData()},onClickCard:function(t){Object(w["d"])("nftObj",t),this.$router.push("/card-detail?id=".concat(t.id))},rendStatus:function(t){switch(t){case 1:return this.$t("island.bag.p4nvag");case 2:return this.$t("cardList.kr38gh");case 3:return this.$t("cardList.hzfeh7")}}}},x=C,k=(a("a8a6"),Object(b["a"])(x,m,_,!1,null,null,null)),$=k.exports,y={components:{Header:l["a"],TabTreeBlindBox:g,TabTreeNFT:$},data:function(){return{activeTab:{},tabs:[],isShowBuyDialog:!1,num:"",showPopover:!1,actions:[{text:"GROK"},{text:"SEED"}],curCoinName:"GROK"}},watch:{"$i18n.locale":function(){this.initData()},"$route.query":function(){this.initData()}},mounted:function(){this.initData()},computed:Object(s["a"])({},Object(d["b"])(["userInfo"])),methods:{initData:function(){this.tabs=[{label:"NFT",value:1},{label:"盲盒",value:2}],this.activeTab=this.tabs[0]},onChangeTab:function(t){this.activeTab=t},onSelect:function(t){this.curCoinName=t.text},getData:function(){var t=this,e=this.$toast.loading();Object(u["getCardList"])({page:1,size:1e4,grade:this.currentFilterLevel.value,status:this.currentFilterOrder.value}).then((function(a){t.cardList=a.data.list,e.clear()}))}}},O=y,S=(a("d091"),Object(b["a"])(O,i,n,!1,null,null,null));e["default"]=S.exports},d091:function(t,e,a){"use strict";a("9d35")}}]);