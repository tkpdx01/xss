(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0825031a"],{"6c52":function(t,a,e){"use strict";e("fce1")},"76b8":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-card-detail"},[e("Header"),e("div",{staticClass:"bg-card-img"},[e("div",{staticClass:"box"},[e("div",{staticClass:"card-img"},[e("div",{staticClass:"status"},[t._v(t._s(t.rendStatus(t.currentCard.status)))]),e("img",{attrs:{src:t.currentCard.card.image,alt:""}})]),e("div",{staticClass:"row"},[e("div",{staticClass:"name"},[t._v(t._s(t.currentCard.card.contract_name))]),e("div",{staticClass:"btn"},[t._v(" "+t._s(t.$t("cardDetail.69bpye"))+" "+t._s(3==t.currentCard.status?t.currentCard.valid_power:t.currentCard.power)+" ")])])]),e("CardTabData",{attrs:{currentCard:t.currentCard}})],1),e("div",{staticClass:"btn-box"},[e("van-button",{attrs:{type:"primary"},on:{click:t.onClickCard}},[t._v(" "+t._s(t.$t("cardDetail.v652fp"))+" ")]),e("div",{staticClass:"row-btn"},[e("van-button",{attrs:{type:"info"},on:{click:t.onWithdrawCard}},[t._v(t._s(t.$t("cardDetail.5mh8ii")))]),e("van-button",{attrs:{type:"danger"},on:{click:function(a){t.showNumDialog=!0}}},[t._v(" "+t._s(t.$t("cardDetail.jx3ycv")))])],1)],1),e("van-dialog",{staticClass:"mining-dialog",attrs:{showConfirmButton:!1},model:{value:t.showPledgeDialog,callback:function(a){t.showPledgeDialog=a},expression:"showPledgeDialog"}},[e("div",{staticClass:"mining-dialog-inner"},[e("div",{staticClass:"header"},[e("h2",[t._v(t._s(t.$t("cardDetail.ayi96e")))]),e("i",{staticClass:"icon-close",on:{click:function(a){t.showPledgeDialog=!1}}})]),e("div",{staticClass:"body"},[e("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption}},[e("swiper-slide",[e("div",{staticClass:"swiper-inner"})]),e("swiper-slide",[e("div",{staticClass:"swiper-inner"})]),e("swiper-slide",[e("div",{staticClass:"swiper-inner"})]),e("swiper-slide",[e("div",{staticClass:"swiper-inner"})])],1),e("div",{staticClass:"info"},[e("div",{staticClass:"descriptions"},[e("div",[t._v(t._s(t.$t("cardDetail.tvnhwi"))+"GROK universe")]),e("div",[t._v(t._s(t.$t("cardDetail.b7a5vv"))+"02020")]),e("div",[t._v(t._s(t.$t("cardDetail.5he5cn"))+"100X")])])]),e("div",{staticClass:"btn"},[e("van-button",{attrs:{type:"primary"}},[t._v(t._s(t.$t("cardDetail.adae4k")))])],1)],1)])]),e("van-dialog",{staticClass:"mining-dialog",attrs:{showConfirmButton:!1},model:{value:t.showLevelUpDialog,callback:function(a){t.showLevelUpDialog=a},expression:"showLevelUpDialog"}},[e("div",{staticClass:"mining-dialog-inner"},[e("div",{staticClass:"header"},[e("h2",[t._v(t._s(t.$t("cardDetail.i6rdkp")))]),e("i",{staticClass:"icon-close",on:{click:function(a){t.showLevelUpDialog=!1}}})]),e("div",{staticClass:"body"},[e("div",{staticClass:"inputs"},[e("div",{staticClass:"input"},[e("span",{staticClass:"label"},[t._v(t._s(t.$t("cardDetail.vh7368")))]),e("van-field",{attrs:{type:"digest"},on:{input:t.onChange},model:{value:t.power,callback:function(a){t.power=a},expression:"power"}}),e("span",{staticClass:"suffix"},[t._v(t._s(t.$t("cardDetail.zhofbq")))])],1),e("div",{staticClass:"input"},[e("span",{staticClass:"label"},[t._v(t._s(t.$t("cardDetail.dx2oxk")))]),e("van-field",{attrs:{disabled:"",value:t.upgradeObj.magic}}),e("span",{staticClass:"suffix"},[t._v("GROK")])],1),e("div",{staticClass:"input"},[e("span",{staticClass:"label"},[t._v(t._s(t.$t("cardDetail.ipe7f8")))]),e("van-field",{attrs:{disabled:"",value:t.upgradeObj.usdt}}),e("span",{staticClass:"suffix"},[t._v("USDT")])],1),e("p",[t._v(t._s(t.$t("cardDetail.xdi9kk"))+" "+t._s(t.currentCard.has_power))]),e("p",{staticStyle:{"margin-top":"10px"}},[t._v(t._s(t.$t("cardDetail.o3swxb"))+" "+t._s(t.currentCard.upgrade_power))])]),e("div",{staticClass:"btn"},[e("van-button",{staticStyle:{"border-radius":"4px",width:"100%"},attrs:{type:"primary",disabled:t.disabled},on:{click:t.onConfirm}},[t._v(t._s(t.$t("cardDetail.235nei")))])],1)])])]),e("van-dialog",{staticClass:"blind-box-dialog",attrs:{showConfirmButton:!1},model:{value:t.showNumDialog,callback:function(a){t.showNumDialog=a},expression:"showNumDialog"}},[e("div",{staticClass:"blind-box-dialog-inner"},[e("div",{staticClass:"header"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("cardDetail.8w1s83")))]),e("i",{staticClass:"icon-close",on:{click:function(a){t.showNumDialog=!1}}})]),e("div",{staticClass:"body"},[e("div",{staticClass:"form"},[e("div",{staticClass:"form-item"},[e("van-field",{staticClass:"input-center",attrs:{placeholder:t.$t("BlindBox.3u52tg")},model:{value:t.ads,callback:function(a){t.ads=a},expression:"ads"}})],1)]),e("div",{staticClass:"btn"},[e("van-button",{attrs:{type:"primary"},on:{click:t.onGiveCard}},[t._v(t._s(t.$t("BlindBox.aqmh0k")))])],1)])])]),e("van-action-sheet",{attrs:{actions:t.actions},on:{select:t.onSelectAction},model:{value:t.showActions,callback:function(a){t.showActions=a},expression:"showActions"}})],1)},i=[],r=e("5530"),c=(e("99af"),e("b0c0"),e("0418")),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"con-card-tab-data"},[e("div",{staticClass:"card-info"},[e("div",{staticClass:"data"},[e("van-tabs",[t.currentCard.seed_name?e("van-tab",{attrs:{title:""+t.$t("game.Tribe.3k4nim")}},[e("van-cell",{attrs:{title:"部落名称",value:t.currentCard.seed_name}}),e("van-cell",{attrs:{title:"种植时长",value:t.currentCard.seed_time}}),e("van-cell",{attrs:{title:"SEED收益",value:t.currentCard.seed_income}}),e("van-cell",{attrs:{title:"是否施肥",value:t.currentCard.seed_is_fertilize?"是":"否"}})],1):t._e(),e("van-tab",{attrs:{title:t.$t("cardDetail.yv14lk")}},[e("van-cell",{staticClass:"cell-level",attrs:{title:"LV"+t.currentCard.grade+" "+t.currentCard.card.name},scopedSlots:t._u([{key:"default",fn:function(){return[e("span",{on:{click:function(a){return t.$router.push("/composite")}}},[t._v(t._s(t.$t("CardTabData.fcgske"))+" "),e("van-icon",{attrs:{name:"arrow",color:"#FE6E73"}})],1)]},proxy:!0}])}),e("div",{staticClass:"pro-item"},[e("div",{staticClass:"lab"},[t._v(t._s(t.$t("cardDetail.rx76u1")))]),e("van-progress",{attrs:{color:" linear-gradient(180deg, #61CE8B 0%, #46BA73 100%)",percentage:t.currentCard.strength}})],1),e("div",{staticClass:"pro-item"},[e("div",{staticClass:"lab"},[t._v(t._s(t.$t("cardDetail.0pvwkm")))]),e("van-progress",{attrs:{color:" linear-gradient(180deg, #61CE8B 0%, #46BA73 100%)",percentage:t.currentCard.defense}})],1),e("div",{staticClass:"pro-item"},[e("div",{staticClass:"lab"},[t._v(t._s(t.$t("cardDetail.043jds")))]),e("van-progress",{attrs:{color:" linear-gradient(180deg, #61CE8B 0%, #46BA73 100%)",percentage:t.currentCard.agile}})],1),e("div",{staticClass:"pro-item"},[e("div",{staticClass:"lab"},[t._v(t._s(t.$t("cardDetail.kiksfu")))]),e("van-progress",{attrs:{color:" linear-gradient(180deg, #61CE8B 0%, #46BA73 100%)",percentage:t.currentCard.energy}})],1),3==t.currentCard.status?e("van-cell",{attrs:{title:t.$t("cardDetail.vcx30d"),value:t.currentCard.pledge_amount}}):t._e(),3==t.currentCard.status?e("van-cell",{attrs:{title:t.$t("cardDetail.mwwohe"),value:t.currentCard.pledge_day}}):t._e()],1),e("van-tab",{attrs:{title:t.$t("market.auctionDetails.i1csir")}},[e("van-cell",{attrs:{title:t.$t("cardDetail.njqtyh")}},[e("span",[t._v(t._s(t._f("filterAds")(t.walletAddress,4)))])]),e("van-cell",{attrs:{title:t.$t("cardDetail.7eoxxj")}},[e("span",[t._v(t._s(t._f("filterAds")(t.currentCard.card.contract_address,4)))])]),e("van-cell",{attrs:{title:"Token ID"}},[t._v(t._s(t.currentCard.token_id))]),e("van-cell",{attrs:{title:t.$t("market.auctionDetails.x1l8fz")}},[t._v("BSC")])],1)],1)],1)])])},d=[],l=e("2f62"),o={props:["currentCard"],data:function(){return{}},computed:Object(r["a"])({},Object(l["b"])(["userInfo","walletAddress"])),watch:{"$i18n.locale":function(){}},mounted:function(){},methods:{rendStatus:function(t){switch(t){case 1:return this.$t("cardList.z2d01c");case 3:return this.$t("cardList.kr38gh");case 4:return this.$t("cardList.hzfeh7");case 5:return this.$t("cardList.wifw1s");case 6:return this.$t("CardList.zkm4cr")}}}},u=o,v=(e("dc9d"),e("2877")),h=Object(v["a"])(u,n,d,!1,null,null,null),p=h.exports,m=e("4ec3"),C=e("fe75"),f={components:{Header:c["a"],CardTabData:p},data:function(){return{showPledgeDialog:!1,showLevelUpDialog:!1,swiperOption:{slidesPerView:1.5,spaceBetween:20,centeredSlides:!0},cfcAmount:"",usdtAmount:"",power:"",currentId:"",showActions:!1,actions:[],currentCard:{card:{}},showNumDialog:!1,ads:"",upgradeObj:{}}},mounted:function(){var t=this.$route.query.id;this.cardId=t,this.getData()},computed:Object(r["a"])(Object(r["a"])({},Object(l["b"])(["userInfo","walletAddress"])),{},{disabled:function(){return!this.power||!this.cfcAmount}}),watch:{power:function(t){var a=this.userInfo.usdt_to_cfc,e=this.currentCard.every_u;this.usdtAmount=t/e,this.cfcAmount=this.usdtAmount*a}},methods:{getData:function(){var t=this,a=this.$toast.loading();Object(m["q"])({id:this.cardId}).then((function(e){t.currentCard=e.data,a.clear()}))},onWithdrawCard:function(){var t=this;this.$dialog.confirm({className:"js-modal",title:this.$t("cardDetail.g29xgw"),message:this.$t("cardDetail.li0oau")}).then((function(){Object(C["b"])(C["d"]).then((function(a){Object(m["h"])({card_id:t.cardId}).then((function(a){200==a.code?(t.$toast(t.$t("cardDetail.6hbsil")),t.$router.back()):t.$toast(a.msg)}))}))}))},onGiveCard:function(){var t=this;Object(C["b"])(C["d"]).then((function(a){Object(m["f"])({card_id:t.cardId,address:t.ads}).then((function(a){200==a.code?(t.$toast(t.$t("cardDetail.4jkstn")),t.$router.back()):t.$toast(a.msg)}))}))},onClickCard:function(){var t=this.currentCard,a=this.$route.query.type;this.actions=[{name:this.$t("cardDetail.yfih1j"),type:"pledge",disabled:!t.is_can_pledge||"spirit"===a},{name:this.$t("cardDetail.x5o9pd"),type:"upgrade",disabled:!t.is_can_upgrade},{name:"".concat(this.$t("cardDetail.siytpp"),"(").concat(t.income,")"),type:"income",disabled:3!==t.status},{name:this.$t("cardDetail.fc5zjl"),type:"sell",disabled:4==t.status||3==t.status},{name:this.$t("cardDetail.ttph0e"),type:"auction",disabled:5==t.status||3==t.status},{name:this.$t("cardDetail.stu7dt"),type:"cancelSell",disabled:4!==t.status},{name:this.$t("cardDetail.62vjhg"),type:"redemption",disabled:3!==t.status}],this.showActions=!0},onSelectAction:function(t){switch(t.type){case"income":this.onReceive();break;case"cancelSell":this.onActionSellItem();break;case"pledge":this.onPledge();break;case"redemption":this.onRedemption();break;case"upgrade":this.showLevelUpDialog=!0;break;case"sell":this.$router.push("/market/market-details?role=seller&id=".concat(this.currentCard.id));break;case"auction":this.$router.push("/market/auction-details?role=seller&id=".concat(this.currentCard.id));break}this.showActions=!1},onActionSellItem:function(){var t=this;this.showActions=!1,this.$dialog.confirm({className:"js-modal",title:this.$t("cardDetail.ucoq6b"),message:this.$t("cardDetail.grkquw")}).then((function(){Object(m["c"])({id:t.currentCard.sell_id}).then((function(a){200==a.code?(t.$toast(t.t("cardDetail.ijkk9m")),t.getData()):t.$toast(a.msg)}))})).catch((function(){}))},onReceive:function(){var t=this;Object(m["D"])({card_id:this.currentCard.id}).then((function(a){200==a.code?(t.$toast(t.$t("cardDetail.fc1m3n")),t.getData()):t.$toast(a.msg)}))},onPledge:function(){var t=this,a=+this.currentCard.pledge_amount;this.$dialog.confirm({className:"js-modal",title:this.$t("cardDetail.mopzse"),message:this.$t("cardDetail.cz8sft",{num:a})}).then((function(){Object(m["e"])({card_id:t.currentCard.id}).then((function(e){if(200==e.code){var s={coinName:C["d"].coinName,ads:C["d"].ads,amount:a,precision:C["d"].precision,remarks:"pledge@".concat(t.currentCard.id)};Object(C["e"])(s).then((function(a){Object(m["F"])({event:"pledge",key:t.currentCard.id}).then((function(a){t.getData(),t.$toast(t.$t("cardDetail.1k9ado"))}))}))}else t.$toast(e.msg)}))}))},onRedemption:function(){var t=this,a=this.currentCard,e=a.redemption_amount;a.redemption_rate;this.$dialog.confirm({className:"js-modal",title:this.$t("cardDetail.8949i5"),message:this.$t("cardDetail.qevtxn",{val:e})}).then((function(){Object(C["b"])(C["d"]).then((function(){Object(m["E"])({card_id:t.currentCard.id}).then((function(a){200==a.code?(t.$toast(t.$t("cardDetail.2cuf9y")),t.getData()):t.$toast(a.msg)}))}))}))},onChange:function(t){var a=this;t?Object(m["g"])({card_id:this.currentCard.id,power:this.power}).then((function(t){200==t.code?a.upgradeObj=t.data:a.$toast(t.msg)})):this.upgradeObj={}},onConfirm:function(){var t=this;if(this.cfcAmount){var a=this.cfcAmount,e=this.upgradeObj.currency,s=e.name,i=e.contract_address,r=e.precision;Object(C["b"])({ads:i,precision:r}).then((function(e){var c={coinName:s,ads:i,amount:a,precision:r,remarks:"upgrade@".concat(t.currentCard.id,"@").concat(t.power)};Object(C["e"])(c).then((function(a){Object(m["F"])({event:"upgrade",key:t.currentCard.id}).then((function(a){t.getData(),t.$toast(t.$t("cardDetail.pkwxqf")),t.showLevelUpDialog=!1}))}))}))}},rendStatus:function(t){switch(t){case 1:return this.$t("cardList.z2d01c");case 2:return this.$t("cardDetail.a7lt1a");case 3:return this.$t("CardList.zkm4cr");case 4:return this.$t("cardDetail.aatqsn");case 5:return this.$t("cardDetail.a95hkb")}}}},g=f,b=(e("6c52"),Object(v["a"])(g,s,i,!1,null,null,null));a["default"]=b.exports},d2d7:function(t,a,e){},dc9d:function(t,a,e){"use strict";e("d2d7")},fce1:function(t,a,e){}}]);